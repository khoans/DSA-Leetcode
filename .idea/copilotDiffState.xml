<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/DesignPattern/java/src/main/java/com/nskhoa/designpattern/creational/singleton/example2/DatabaseConnectionPool.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/DesignPattern/java/src/main/java/com/nskhoa/designpattern/creational/singleton/example2/DatabaseConnectionPool.java" />
              <option name="updatedContent" value="package com.nskhoa.designpattern.creational.singleton.example2;&#10;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Example 2: Quản lý Connection Pool trong ứng dụng&#10; * &#10; * Connection Pool giúp tái sử dụng kết nối database thay vì tạo mới mỗi lần,&#10; * tiết kiệm tài nguyên và tăng hiệu suất ứng dụng.&#10; */&#10;public class DatabaseConnectionPool {&#10;    private static DatabaseConnectionPool instance;&#10;    private static final int MAX_POOL_SIZE = 10;&#10;    private List&lt;String&gt; availableConnections;&#10;    private List&lt;String&gt; usedConnections;&#10;    &#10;    private DatabaseConnectionPool() {&#10;        availableConnections = new ArrayList&lt;&gt;();&#10;        usedConnections = new ArrayList&lt;&gt;();&#10;        // Khởi tạo pool với 5 connection ban đầu&#10;        for (int i = 0; i &lt; 5; i++) {&#10;            availableConnections.add(&quot;Connection-&quot; + i);&#10;        }&#10;        System.out.println(&quot;DatabaseConnectionPool initialized with &quot; + availableConnections.size() + &quot; connections&quot;);&#10;    }&#10;    &#10;    public static synchronized DatabaseConnectionPool getInstance() {&#10;        if (instance == null) {&#10;            instance = new DatabaseConnectionPool();&#10;        }&#10;        return instance;&#10;    }&#10;    &#10;    public synchronized String getConnection() {&#10;        if (availableConnections.isEmpty()) {&#10;            if (usedConnections.size() &lt; MAX_POOL_SIZE) {&#10;                String newConn = &quot;Connection-&quot; + (availableConnections.size() + usedConnections.size());&#10;                usedConnections.add(newConn);&#10;                System.out.println(&quot;Created new connection: &quot; + newConn);&#10;                return newConn;&#10;            } else {&#10;                System.out.println(&quot;No available connections. Pool is full!&quot;);&#10;                return null;&#10;            }&#10;        }&#10;        &#10;        String connection = availableConnections.remove(0);&#10;        usedConnections.add(connection);&#10;        System.out.println(&quot;Retrieved connection: &quot; + connection);&#10;        return connection;&#10;    }&#10;    &#10;    public synchronized void releaseConnection(String connection) {&#10;        if (usedConnections.remove(connection)) {&#10;            availableConnections.add(connection);&#10;            System.out.println(&quot;Released connection: &quot; + connection);&#10;        }&#10;    }&#10;    &#10;    public void showPoolStatus() {&#10;        System.out.println(&quot;Pool Status - Available: &quot; + availableConnections.size() + &#10;                         &quot;, Used: &quot; + usedConnections.size());&#10;    }&#10;}&#10;&#10;/*&#10;Sử dụng:&#10;DatabaseConnectionPool pool = DatabaseConnectionPool.getInstance();&#10;String conn1 = pool.getConnection();&#10;String conn2 = pool.getConnection();&#10;pool.showPoolStatus();&#10;pool.releaseConnection(conn1);&#10;pool.showPoolStatus();&#10;*/&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>